<script lang="ts" setup>
import { computed } from 'vue'
import { NAvatar } from 'naive-ui'
import { useUserStore } from '@/store'
import { isString } from '@/utils/is'
import defaultAvatar from '@/assets/avatar.jpg'

interface Props {
  image?: boolean
}
defineProps<Props>()

const userStore = useUserStore()

const avatar = computed(() => userStore.userInfo.avatar)
</script>

<template>
  <template v-if="image">
    <NAvatar v-if="isString(avatar) && avatar.length > 0" :src="avatar" :fallback-src="defaultAvatar" />
    <NAvatar v-else round :src="defaultAvatar" />
  </template>
  <span v-else class="text-[28px] dark:text-white">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" width="1em" height="1em">
      <path d="M 1.875 8.105469 C 1.875 8.207031 2 8.882812 2.195312 9.867188 C 2.230469 10.050781 2.300781 10.429688 2.351562 10.710938 C 2.457031 11.332031 2.636719 12.355469 2.800781 13.28125 C 2.867188 13.65625 2.980469 14.273438 3.050781 14.65625 C 3.207031 15.492188 3.257812 15.632812 3.476562 15.804688 C 3.863281 16.113281 4.3125 15.917969 4.679688 15.292969 C 4.789062 15.117188 5.011719 14.742188 5.179688 14.46875 C 5.351562 14.195312 5.632812 13.730469 5.8125 13.4375 C 5.988281 13.144531 6.257812 12.707031 6.40625 12.46875 C 6.554688 12.226562 6.761719 11.882812 6.867188 11.699219 C 6.976562 11.523438 7.085938 11.375 7.113281 11.375 C 7.136719 11.375 7.355469 11.699219 7.59375 12.09375 C 7.835938 12.488281 8.195312 13.070312 8.386719 13.386719 C 8.792969 14.054688 9.09375 14.542969 9.445312 15.125 C 9.8125 15.742188 10.023438 15.9375 10.335938 15.9375 C 10.824219 15.9375 11.007812 15.695312 11.148438 14.835938 C 11.207031 14.53125 11.304688 13.957031 11.382812 13.5625 C 11.449219 13.167969 11.5625 12.53125 11.625 12.15625 C 11.695312 11.773438 11.800781 11.15625 11.875 10.78125 C 11.945312 10.398438 12.03125 9.914062 12.070312 9.6875 C 12.101562 9.460938 12.167969 9.113281 12.21875 8.90625 C 12.261719 8.699219 12.320312 8.414062 12.335938 8.261719 L 12.375 8 L 10.949219 8 L 10.914062 8.167969 C 10.894531 8.269531 10.820312 8.648438 10.75 9.03125 C 10.550781 10.148438 10.386719 11.050781 10.242188 11.78125 C 10.175781 12.15625 10.09375 12.585938 10.070312 12.738281 C 9.980469 13.210938 9.957031 13.199219 9.351562 12.1875 C 9.105469 11.792969 8.820312 11.335938 8.707031 11.175781 C 8.59375 11.011719 8.5 10.863281 8.5 10.84375 C 8.5 10.78125 7.726562 9.585938 7.59375 9.449219 C 7.425781 9.273438 7.03125 9.210938 6.8125 9.324219 C 6.65625 9.414062 6.5 9.625 5.71875 10.867188 C 5.480469 11.25 5.144531 11.78125 4.96875 12.050781 C 4.800781 12.320312 4.574219 12.675781 4.476562 12.832031 C 4.367188 12.992188 4.269531 13.125 4.242188 13.125 C 4.21875 13.125 4.179688 12.960938 4.164062 12.761719 C 4.136719 12.570312 4.09375 12.320312 4.0625 12.21875 C 4.03125 12.113281 3.960938 11.773438 3.914062 11.46875 C 3.855469 11.15625 3.761719 10.59375 3.695312 10.21875 C 3.625 9.835938 3.519531 9.21875 3.449219 8.835938 C 3.386719 8.457031 3.3125 8.113281 3.289062 8.074219 C 3.257812 8.023438 3.007812 8 2.554688 8 C 1.949219 8 1.875 8.011719 1.875 8.105469 Z M 1.875 8.105469 " fill="currentColor"/>
      <path d="M 16.4375 8.085938 C 15.75 8.210938 15.101562 8.570312 14.554688 9.117188 C 14.019531 9.664062 13.75 10.136719 13.5625 10.875 C 13.449219 11.320312 13.4375 11.570312 13.4375 13.617188 L 13.4375 15.875 L 14.8125 15.875 L 14.8125 13.9375 L 19.9375 13.9375 L 19.9375 15.875 L 21.320312 15.875 L 21.28125 8.375 L 21.105469 8.207031 L 20.9375 8.03125 L 18.886719 8.019531 C 17.5 8.011719 16.710938 8.03125 16.4375 8.085938 Z M 19.925781 10.949219 L 19.9375 12.5 L 14.8125 12.5 L 14.8125 12.136719 C 14.8125 11.425781 15.042969 10.675781 15.394531 10.25 C 15.675781 9.898438 16.414062 9.507812 16.9375 9.417969 C 17.023438 9.398438 17.726562 9.394531 18.5 9.398438 L 19.90625 9.40625 Z M 19.925781 10.949219 " fill="currentColor"/>
      <path d="M 13.84375 16.710938 C 13.4375 16.886719 13.457031 16.71875 13.429688 20.863281 L 13.40625 24.625 L 14.8125 24.625 L 14.8125 21.914062 C 14.8125 20.351562 14.835938 19.179688 14.867188 19.164062 C 14.898438 19.136719 15 19.21875 15.09375 19.324219 C 15.1875 19.4375 15.664062 19.945312 16.148438 20.445312 C 16.632812 20.945312 17.625 21.96875 18.34375 22.71875 C 19.070312 23.46875 19.789062 24.21875 19.949219 24.382812 C 20.226562 24.667969 20.261719 24.6875 20.554688 24.6875 C 20.820312 24.6875 20.90625 24.65625 21.074219 24.507812 L 21.28125 24.324219 L 21.300781 20.539062 L 21.320312 16.75 L 19.875 16.75 L 19.875 19.46875 C 19.875 21.042969 19.851562 22.1875 19.820312 22.1875 C 19.789062 22.1875 19.523438 21.945312 19.238281 21.636719 C 18.945312 21.335938 17.960938 20.320312 17.050781 19.375 C 16.144531 18.429688 15.242188 17.492188 15.054688 17.289062 C 14.5 16.6875 14.207031 16.550781 13.84375 16.710938 Z M 13.84375 16.710938 " fill="currentColor"/>
      <path d="M 24.375 16.804688 C 23.644531 17.03125 23.136719 17.574219 23 18.289062 C 22.949219 18.539062 22.9375 19.40625 22.949219 20.9375 C 22.96875 23.207031 22.96875 23.21875 23.117188 23.523438 C 23.320312 23.925781 23.632812 24.230469 24.0625 24.429688 L 24.40625 24.59375 L 27.3125 24.613281 C 29.398438 24.625 30.261719 24.613281 30.386719 24.554688 C 30.480469 24.519531 30.617188 24.394531 30.6875 24.28125 C 30.804688 24.09375 30.8125 23.976562 30.8125 22.261719 L 30.8125 20.445312 L 30.59375 20.226562 C 30.445312 20.070312 30.300781 20 30.113281 19.96875 C 29.960938 19.949219 28.886719 19.9375 27.71875 19.949219 L 25.59375 19.96875 L 25.59375 21.40625 L 27.519531 21.425781 L 29.445312 21.4375 L 29.425781 22.332031 L 29.40625 23.21875 L 27.136719 23.238281 C 24.605469 23.257812 24.511719 23.238281 24.382812 22.863281 C 24.304688 22.648438 24.292969 18.761719 24.367188 18.507812 C 24.386719 18.425781 24.507812 18.304688 24.625 18.242188 C 24.824219 18.132812 25.039062 18.125 27.792969 18.125 L 30.75 18.125 L 30.75 16.75 L 27.644531 16.757812 C 25.929688 16.757812 24.460938 16.78125 24.375 16.804688 Z M 24.375 16.804688 " fill="currentColor"/>
    </svg>
  </span>
</template>
